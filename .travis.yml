# workaround for buffer overflow issue, see https://github.com/travis-ci/travis-ci/issues/5227
before_install:
- cat /etc/hosts # optionally check the content *before*
- sudo hostname "$(hostname | cut -c1-63)"
- sed -e "s/^\\(127\\.0\\.0\\.1.*\\)/\\1 $(hostname | cut -c1-63)/" /etc/hosts | sudo tee /etc/hosts
- cat /etc/hosts # optionally check the content *after*

env:
  global:
  - CODECOV_TOKEN="a7e80b40-89ed-4d53-b595-dc147229e68f"

language: java
jdk:
- openjdk8
branches:
  only:
  - master

after_success:
- bash <(curl -s https://codecov.io/bash) -t uuid-repo-token